{
  "title": "Demand Indicators",
  "uid": "demand-indicators",
  "schemaVersion": 38,
  "version": 1,
  "refresh": "30s",
  "tags": ["ecommerce", "demand"],
  "panels": [
    {
      "id": 1,
      "title": "Monthly Revenue Growth Rate (%)",
      "type": "barchart",
      "gridPos": { "h": 9, "w": 24, "x": 0, "y": 0 },
      "datasource": { "type": "yesoreyeram-infinity-datasource" },
      "targets": [
        {
          "refId": "A",
          "type": "json",
          "source": "url",
          "url": "http://fastapi:8000/demand/growth",
          "root_selector": "",
          "columns": [
            { "selector": "month", "text": "Month", "type": "string" },
            { "selector": "growth_rate_pct", "text": "Growth Rate (%)", "type": "number" }
          ],
          "url_options": { "method": "GET" }
        }
      ],
      "fieldConfig": { "defaults": { "unit": "percent" }, "overrides": [] },
      "options": { "xField": "Month" }
    },
    {
      "id": 2,
      "title": "Top 20 Products by Units Sold",
      "type": "table",
      "gridPos": { "h": 12, "w": 12, "x": 0, "y": 9 },
      "datasource": { "type": "yesoreyeram-infinity-datasource" },
      "targets": [
        {
          "refId": "A",
          "type": "json",
          "source": "url",
          "url": "http://fastapi:8000/demand/top-products",
          "root_selector": "",
          "columns": [
            { "selector": "product_name", "text": "Product", "type": "string" },
            { "selector": "category_name", "text": "Category", "type": "string" },
            { "selector": "total_units", "text": "Units Sold", "type": "number" },
            { "selector": "total_revenue", "text": "Revenue", "type": "number" },
            { "selector": "unique_buyers", "text": "Unique Buyers", "type": "number" }
          ],
          "url_options": { "method": "GET" }
        }
      ],
      "fieldConfig": {
        "defaults": {},
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "Revenue" },
            "properties": [{ "id": "unit", "value": "currencyEUR" }]
          }
        ]
      }
    },
    {
      "id": 3,
      "title": "Units Sold by Category per Month",
      "type": "table",
      "gridPos": { "h": 12, "w": 12, "x": 12, "y": 9 },
      "datasource": { "type": "yesoreyeram-infinity-datasource" },
      "targets": [
        {
          "refId": "A",
          "type": "json",
          "source": "url",
          "url": "http://fastapi:8000/demand/by-category",
          "root_selector": "",
          "columns": [
            { "selector": "month", "text": "Month", "type": "string" },
            { "selector": "category_name", "text": "Category", "type": "string" },
            { "selector": "units_sold", "text": "Units Sold", "type": "number" }
          ],
          "url_options": { "method": "GET" }
        }
      ],
      "fieldConfig": { "defaults": {}, "overrides": [] }
    }
  ]
}
